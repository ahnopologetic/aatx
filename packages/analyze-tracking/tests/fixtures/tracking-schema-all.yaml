# yaml-language-server: $schema=https://raw.githubusercontent.com/fliskdata/analyze-tracking/main/schema.json
version: 1
source:
  repository: git@github.com:fliskdata/analyze-tracking.git
  commit: c5cb9b287b787da97c8d3d41b229ed14a8650ac9
  timestamp: '2025-06-26T04:25:24Z'
events:
  Signed Up:
    implementations:
      - path: go/main.go
        line: 29
        function: segmentTrack
        destination: segment
    properties:
      UserId:
        type: string
      plan:
        type: string
      is_free_trial:
        type: boolean
  some_event:
    implementations:
      - path: go/main.go
        line: 41
        function: mixpanelTrack
        destination: mixpanel
    properties:
      DistinctId:
        type: string
      plan:
        type: string
      price:
        type: number
  Button Clicked:
    implementations:
      - path: go/main.go
        line: 52
        function: amplitudeTrack
        destination: amplitude
      - path: python/main.py
        line: 100
        function: amplitude_track
        destination: amplitude
    properties:
      UserID:
        type: string
      name:
        type: string
      a property:
        type: string
      is_free_trial:
        type: boolean
      Price:
        type: number
      user_id:
        type: string
      color:
        type: string
      size:
        type: number
  user_signed_up:
    implementations:
      - path: go/main.go
        line: 72
        function: posthogTrack
        destination: posthog
      - path: python/main.py
        line: 127
        function: posthog_capture
        destination: posthog
      - path: ruby/main.rb
        line: 66
        function: posthog_track
        destination: posthog
    properties:
      DistinctId:
        type: string
      login_type:
        type: string
      plan:
        type: string
      is_free_trial:
        type: boolean
      method:
        type: string
      distinct_id:
        type: string
  add-to-basket:
    implementations:
      - path: go/main.go
        line: 89
        function: snowplowTrack
        destination: snowplow
      - path: python/main.py
        line: 143
        function: snowplow_track_events
        destination: snowplow
      - path: ruby/main.rb
        line: 109
        function: snowplow_track
        destination: snowplow
    properties:
      Category:
        type: string
      Property:
        type: string
      Value:
        type: number
      category:
        type: string
      label:
        type: string
      property:
        type: string
      value:
        type: number
  custom_event:
    implementations:
      - path: go/main.go
        line: 113
        function: main
        destination: custom
      - path: python/main.py
        line: 158
        function: main
        destination: custom
      - path: ruby/main.rb
        line: 79
        function: custom_track_event
        destination: custom
      - path: ruby/main.rb
        line: 98
        function: custom_track_module
        destination: custom
    properties:
      userId:
        type: string
      foo:
        type: string
      baz:
        type: number
      list:
        type: array
        items:
          type: string
      obj:
        type: object
        properties:
          a:
            type: number
          b:
            type: number
          c:
            type: string
      key:
        type: string
      nested:
        type: object
        properties:
          a:
            type: array
            items:
              type: number
  custom_event0:
    implementations:
      - path: go/main.go
        line: 121
        function: main
        destination: custom
      - path: javascript/main.js
        line: 181
        function: global
        destination: custom
      - path: python/main.py
        line: 161
        function: main
        destination: custom
      - path: ruby/main.rb
        line: 135
        function: global
        destination: custom
      - path: typescript/main.ts
        line: 341
        function: global
        destination: custom
    properties:
      foo:
        type: string
  custom_event1:
    implementations:
      - path: go/main.go
        line: 122
        function: main
        destination: custom
      - path: javascript/main.js
        line: 182
        function: global
        destination: custom
      - path: python/main.py
        line: 162
        function: main
        destination: custom
      - path: ruby/main.rb
        line: 136
        function: global
        destination: custom
      - path: typescript/main.ts
        line: 342
        function: global
        destination: custom
    properties:
      foo:
        type: string
  custom_event2:
    implementations:
      - path: go/main.go
        line: 123
        function: main
        destination: custom
      - path: javascript/main.js
        line: 183
        function: global
        destination: custom
      - path: python/main.py
        line: 163
        function: main
        destination: custom
      - path: ruby/main.rb
        line: 137
        function: global
        destination: custom
      - path: typescript/main.ts
        line: 343
        function: global
        destination: custom
    properties:
      userId:
        type: string
      foo:
        type: string
  custom_event3:
    implementations:
      - path: go/main.go
        line: 124
        function: main
        destination: custom
      - path: javascript/main.js
        line: 184
        function: global
        destination: custom
      - path: python/main.py
        line: 164
        function: main
        destination: custom
      - path: ruby/main.rb
        line: 138
        function: global
        destination: custom
      - path: typescript/main.ts
        line: 344
        function: global
        destination: custom
    properties:
      userEmail:
        type: string
      foo:
        type: string
  custom_event4:
    implementations:
      - path: go/main.go
        line: 125
        function: main
        destination: custom
      - path: javascript/main.js
        line: 185
        function: global
        destination: custom
      - path: python/main.py
        line: 165
        function: main
        destination: custom
      - path: ruby/main.rb
        line: 139
        function: global
        destination: custom
      - path: typescript/main.ts
        line: 345
        function: global
        destination: custom
    properties:
      userId:
        type: string
      userAddress:
        type: object
        properties:
          city:
            type: string
      userEmail:
        type: string
      foo:
        type: string
  purchase:
    implementations:
      - path: javascript/main.js
        line: 14
        function: trackGA4
        destination: googleanalytics
    properties:
      order_id:
        type: any
      products:
        type: any
      total:
        type: any
      address:
        type: object
        properties:
          city:
            type: string
          state:
            type: string
  newEvent:
    implementations:
      - path: javascript/main.js
        line: 27
        function: checkout
        destination: segment
    properties:
      something:
        type: string
      count:
        type: number
  orderCompleted:
    implementations:
      - path: javascript/main.js
        line: 34
        function: test12345678
        destination: mixpanel
    properties:
      order_id:
        type: any
      products:
        type: any
      total:
        type: any
  checkout:
    implementations:
      - path: javascript/main.js
        line: 44
        function: checkout
        destination: amplitude
      - path: javascript/main.js
        line: 131
        function: checkout3
        destination: datadog
    properties:
      order_id:
        type: string
      products:
        type: any
      total:
        type: number
      address:
        type: object
        properties:
          city:
            type: string
          state:
            type: string
      currency:
        type: string
  Order Completed:
    implementations:
      - path: javascript/main.js
        line: 57
        function: checkout
        destination: rudderstack
    properties:
      order_id:
        type: any
      products:
        type: any
      revenue:
        type: any
      address:
        type: object
        properties:
          city:
            type: string
          state:
            type: string
  Buy Now:
    implementations:
      - path: javascript/main.js
        line: 80
        function: checkout2
        destination: mparticle
    properties:
      order_id:
        type: any
      products:
        type: any
      total:
        type: any
      address:
        type: object
        properties:
          city:
            type: string
          state:
            type: string
  user click:
    implementations:
      - path: javascript/main.js
        line: 93
        function: checkout2
        destination: posthog
    properties:
      order_id:
        type: any
      blah:
        type: any
      products:
        type: any
      total:
        type: any
      address:
        type: object
        properties:
          city:
            type: string
          state:
            type: string
  customer checkout:
    implementations:
      - path: javascript/main.js
        line: 107
        function: checkout3
        destination: pendo
    properties:
      order_id:
        type: string
      products:
        type: array
        items:
          type: object
      total:
        type: number
      address:
        type: object
        properties:
          city:
            type: string
          state:
            type: string
  login:
    implementations:
      - path: javascript/main.js
        line: 124
        function: checkout3
        destination: heap
    properties:
      user_id:
        type: string
      email:
        type: string
      name:
        type: string
  someevent:
    implementations:
      - path: javascript/main.js
        line: 157
        function: trackSnowplow
        destination: snowplow
    properties:
      category:
        type: string
      label:
        type: string
      property:
        type: string
      value:
        type: any
  customEvent:
    implementations:
      - path: javascript/main.js
        line: 171
        function: global
        destination: custom
    properties:
      order_id:
        type: string
      value:
        type: number
      list:
        type: array
        items:
          type: string
      userId:
        type: string
  custom_module_event:
    implementations:
      - path: javascript/main.js
        line: 197
        function: global
        destination: custom
      - path: python/main.py
        line: 173
        function: main
        destination: custom
      - path: typescript/main.ts
        line: 357
        function: global
        destination: custom
    properties:
      order_id:
        type: string
      foo:
        type: string
      userId:
        type: string
  page_view:
    implementations:
      - path: javascript/main.js
        line: 143
        function: checkout3
        destination: datadog
    properties:
      page:
        type: string
      section:
        type: string
      user_type:
        type: string
  ecommerce_purchase_frozen:
    implementations:
      - path: javascript/main.js
        line: 209
        function: global
        destination: mixpanel
      - path: typescript/main.ts
        line: 327
        function: global
        destination: mixpanel
    properties:
      orderId:
        type: string
      total:
        type: number
      items:
        type: array
        items:
          type: string
  user_login:
    implementations:
      - path: javascript/main.js
        line: 137
        function: checkout3
        destination: datadog
      - path: typescript/main.ts
        line: 244
        function: checkout3
        destination: heap
    properties:
      user_id:
        type: string
      method:
        type: string
      success:
        type: boolean
      email:
        type: string
      name:
        type: string
      roles:
        type: array
        items:
          type: string
  User Signed Up:
    implementations:
      - path: python/main.py
        line: 80
        function: segment_track
        destination: segment
      - path: ruby/main.rb
        line: 22
        function: segment_track
        destination: segment
    properties:
      user_id:
        type: string
      method:
        type: string
      is_free_trial:
        type: boolean
      plan:
        type: string
  Purchase Completed:
    implementations:
      - path: python/main.py
        line: 90
        function: mixpanel_track
        destination: mixpanel
      - path: ruby/main.rb
        line: 36
        function: mixpanel_track
        destination: mixpanel
    properties:
      distinct_id:
        type: string
      plan:
        type: string
      price:
        type: number
      items:
        type: array
        items:
          type: string
  User Logged In:
    implementations:
      - path: python/main.py
        line: 116
        function: rudderstack_track
        destination: rudderstack
    properties:
      user_id:
        type: string
      timestamp:
        type: number
      os:
        type: string
      version:
        type: number
  user_cancelled_subscription:
    implementations:
      - path: python/main.py
        line: 133
        function: posthog_capture
        destination: posthog
    properties:
      method:
        type: string
      is_free_trial:
        type: boolean
      plan:
        type: string
  Item Sold:
    implementations:
      - path: ruby/main.rb
        line: 49
        function: rudderstack_track
        destination: rudderstack
    properties:
      user_id:
        type: any
      sku:
        type: any
      shipping:
        type: string
  Module Event:
    implementations:
      - path: ruby/main.rb
        line: 121
        function: track_something
        destination: segment
    properties:
      anonymous_id:
        type: string
      from_module:
        type: boolean
  BecameLead:
    implementations:
      - path: ruby/registration_module.rb
        line: 9
        function: post_registration
        destination: custom
    properties:
      userId:
        type: any
      leadType:
        type: string
      nonInteraction:
        type: number
  order_completed:
    implementations:
      - path: typescript/main.ts
        line: 119
        function: trackOrderCompletedGA
        destination: googleanalytics
    properties:
      order_id:
        type: string
      products:
        type: array
        items:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            price:
              type: number
            sku:
              type: string
      order_total:
        type: number
      location:
        type: object
        properties:
          city:
            type: string
          state:
            type: string
          postalCode:
            type: string
      currency:
        type: string
  user_checkout:
    implementations:
      - path: typescript/main.ts
        line: 135
        function: checkout
        destination: segment
    properties:
      stage:
        type: string
      method:
        type: string
      item_count:
        type: number
  purchase_confirmed:
    implementations:
      - path: typescript/main.ts
        line: 144
        function: confirmPurchaseMixpanel
        destination: mixpanel
    properties:
      order_id:
        type: string
      items:
        type: array
        items:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            price:
              type: number
            sku:
              type: string
      total_amount:
        type: number
  checkout_initiated:
    implementations:
      - path: typescript/main.ts
        line: 149
        function: checkout
        destination: amplitude
    properties:
      order_id:
        type: string
      items:
        type: array
        items:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            price:
              type: number
            sku:
              type: string
      order_total:
        type: number
      location:
        type: object
        properties:
          city:
            type: string
          state:
            type: string
          postalCode:
            type: string
      coupon_code:
        type: 'null'
  order_finalized:
    implementations:
      - path: typescript/main.ts
        line: 164
        function: checkout
        destination: rudderstack
    properties:
      order_id:
        type: string
      items:
        type: array
        items:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            price:
              type: number
            sku:
              type: string
      revenue:
        type: number
      location:
        type: object
        properties:
          city:
            type: string
          state:
            type: string
          postalCode:
            type: string
  BuyNow:
    implementations:
      - path: typescript/main.ts
        line: 190
        function: checkout2
        destination: mparticle
    properties:
      order_id:
        type: string
      items:
        type: array
        items:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            price:
              type: number
            sku:
              type: string
      total:
        type: number
      location:
        type: object
        properties:
          city:
            type: string
          state:
            type: string
          postalCode:
            type: string
  user_action:
    implementations:
      - path: typescript/main.ts
        line: 209
        function: checkout2
        destination: posthog
    properties:
      order_id:
        type: string
      retry:
        type: number
      items:
        type: array
        items:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            price:
              type: number
            sku:
              type: string
      amount:
        type: number
      shipping:
        type: object
        properties:
          city:
            type: string
          state:
            type: string
          postalCode:
            type: string
  customer_checkout:
    implementations:
      - path: typescript/main.ts
        line: 230
        function: checkout3
        destination: pendo
    properties:
      order_id:
        type: string
      products:
        type: array
        items:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            price:
              type: number
            sku:
              type: string
      subtotal:
        type: number
      address:
        type: object
        properties:
          city:
            type: string
          state:
            type: string
          postalCode:
            type: string
  item_view:
    implementations:
      - path: typescript/main.ts
        line: 282
        function: trackSnowplow
        destination: snowplow
    properties:
      category:
        type: string
      label:
        type: string
      property:
        type: string
      value:
        type: number
  button_click:
    implementations:
      - path: typescript/main.ts
        line: 286
        function: trackSnowplow2
        destination: snowplow
    properties:
      category:
        type: string
      label:
        type: string
      property:
        type: string
      value:
        type: number
  custom_event_v2:
    implementations:
      - path: typescript/main.ts
        line: 315
        function: global
        destination: custom
    properties:
      order_id:
        type: string
      value:
        type: number
      list:
        type: array
        items:
          type: string
      metadata:
        type: object
        properties:
          source:
            type: string
          retry:
            type: boolean
      userId:
        type: string
  ecommerce_purchase:
    implementations:
      - path: typescript/main.ts
        line: 326
        function: global
        destination: custom
      - path: javascript/main.js
        line: 235
        function: global
        destination: gtm
    properties:
      orderId:
        type: string
      total:
        type: number
      items:
        type: array
        items:
          type: string
      userId:
        type: string
      transactionId:
        type: string
      value:
        type: number
      currency:
        type: string
  ecommerce_purchase_v2:
    implementations:
      - path: typescript/main.ts
        line: 328
        function: global
        destination: segment
    properties:
      orderId:
        type: string
      total:
        type: number
      items:
        type: array
        items:
          type: string
  document_upload_clicked:
    implementations:
      - path: typescript-react/main.tsx
        line: 53
        function: onFileUploadClick
        destination: segment
    properties:
      documentId:
        type: number
      documentType:
        type: string
  cart_viewed:
    implementations:
      - path: typescript-react/main.tsx
        line: 89
        function: ShoppingCart.useEffect
        destination: posthog
    properties:
      item_count:
        type: number
      total_value:
        type: number
  add_to_cart:
    implementations:
      - path: typescript-react/main.tsx
        line: 101
        function: ShoppingCart.useCallback(handleAddToCart)
        destination: segment
    properties:
      product_id:
        type: string
      product_name:
        type: string
      price:
        type: number
  item_added:
    implementations:
      - path: typescript-react/main.tsx
        line: 108
        function: ShoppingCart.useCallback(handleAddToCart)
        destination: amplitude
    properties:
      item_details:
        type: object
        properties:
          id:
            type: string
          name:
            type: string
          price:
            type: number
          sku:
            type: string
      cart_size:
        type: number
  remove_from_cart:
    implementations:
      - path: typescript-react/main.tsx
        line: 119
        function: removeFromCart
        destination: mixpanel
    properties:
      product_id:
        type: string
      timestamp:
        type: string
  begin_checkout:
    implementations:
      - path: typescript-react/main.tsx
        line: 130
        function: handleCheckout
        destination: googleanalytics
    properties:
      items:
        type: array
        items:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            price:
              type: number
            sku:
              type: string
      value:
        type: number
      currency:
        type: string
  checkout_started:
    implementations:
      - path: typescript-react/main.tsx
        line: 137
        function: handleCheckout
        destination: rudderstack
    properties:
      products:
        type: array
        items:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            price:
              type: number
            sku:
              type: string
      total_items:
        type: number
  InitiateCheckout:
    implementations:
      - path: typescript-react/main.tsx
        line: 143
        function: handleCheckout
        destination: mparticle
    properties:
      cart_items:
        type: array
        items:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            price:
              type: number
            sku:
              type: string
      checkout_step:
        type: number
  FailedPayment:
    implementations:
      - path: typescript/main.ts
        line: 396
        function: global
        destination: custom
      - path: typescript/main.ts
        line: 452
        function: trackFailedPayment
        destination: custom
    properties:
      containerSection:
        type: string
      amount:
        type: number
  InitiatedPayment:
    implementations:
      - path: typescript/main.ts
        line: 384
        function: global
        destination: custom
      - path: typescript/main.ts
        line: 457
        function: trackInitiatedPayment
        destination: custom
    properties:
      containerSection:
        type: string
      tierCartIntent:
        type: string
  ViewedAttorneyAgreement:
    implementations:
      - path: typescript/main.ts
        line: 410
        function: handleView
        destination: custom
    properties: {}
  ViewedPage:
    implementations:
      - path: typescript-alias/app/components/main.ts
        line: 10
        function: global
        destination: mixpanel
    properties:
      foo:
        type: string
  checkout_completed:
    implementations:
      - path: typescript/main.ts
        line: 247
        function: checkout3
        destination: datadog
    properties:
      total:
        type: number
      orderId:
        type: string
      currency:
        type: string
      items:
        type: number
  user_registration:
    implementations:
      - path: typescript/main.ts
        line: 254
        function: checkout3
        destination: datadog
    properties:
      user_id:
        type: string
      method:
        type: string
      success:
        type: boolean
      referrer:
        type: string
  error_occurred:
    implementations:
      - path: typescript/main.ts
        line: 261
        function: checkout3
        destination: datadog
    properties:
      error_type:
        type: string
      field:
        type: string
      page:
        type: string
  UnlessEvent:
    implementations:
      - path: ruby/node_types.rb
        line: 6
        function: unless_example
        destination: custom
    properties:
      userId:
        type: string
      a:
        type: number
  WhileEvent:
    implementations:
      - path: ruby/node_types.rb
        line: 13
        function: while_example
        destination: custom
    properties:
      userId:
        type: string
      b:
        type: number
  ForEvent:
    implementations:
      - path: ruby/node_types.rb
        line: 20
        function: global
        destination: custom
    properties:
      userId:
        type: string
      c:
        type: number
  RescueEvent:
    implementations:
      - path: ruby/node_types.rb
        line: 26
        function: global
        destination: custom
    properties:
      userId:
        type: string
      d:
        type: number
  EnsureEvent:
    implementations:
      - path: ruby/node_types.rb
        line: 28
        function: global
        destination: custom
    properties:
      userId:
        type: string
      e:
        type: number
  LambdaEvent:
    implementations:
      - path: ruby/node_types.rb
        line: 32
        function: block
        destination: custom
    properties:
      userId:
        type: string
      f:
        type: number
  ArrayEvent:
    implementations:
      - path: ruby/node_types.rb
        line: 35
        function: global
        destination: custom
    properties:
      userId:
        type: string
      g:
        type: number
  AndEvent:
    implementations:
      - path: ruby/node_types.rb
        line: 37
        function: global
        destination: custom
    properties:
      userId:
        type: string
      h:
        type: number
  OrEvent:
    implementations:
      - path: ruby/node_types.rb
        line: 38
        function: global
        destination: custom
    properties:
      userId:
        type: string
      i:
        type: number
  InterpolationEvent:
    implementations:
      - path: ruby/infinite_recursion_test.rb
        line: 59
        function: complex_method
        destination: custom
      - path: ruby/node_types.rb
        line: 40
        function: global
        destination: custom
    properties:
      userId:
        type: string
      result_type:
        type: any
      timestamp:
        type: any
      j:
        type: number
  _FinishedSection:
    implementations:
      - path: ruby/constant_event.rb
        line: 8
        function: send_event
        destination: custom
    properties:
      userId:
        type: any
      foo:
        type: string
  _ExternalSection:
    implementations:
      - path: ruby/external_constant_use.rb
        line: 3
        function: trigger
        destination: custom
    properties:
      userId:
        type: number
  DeepNestedEvent:
    implementations:
      - path: ruby/infinite_recursion_test.rb
        line: 16
        function: block
        destination: custom
    properties:
      userId:
        type: string
      level:
        type: string
      iteration:
        type: any
  PatternMatchEvent:
    implementations:
      - path: ruby/infinite_recursion_test.rb
        line: 76
        function: pattern_matching_method
        destination: custom
    properties:
      userId:
        type: any
  BulkEvent:
    implementations:
      - path: ruby/infinite_recursion_test.rb
        line: 79
        function: block
        destination: custom
    properties:
      userId:
        type: any
      item:
        type: any
  FallbackEvent:
    implementations:
      - path: ruby/infinite_recursion_test.rb
        line: 82
        function: pattern_matching_method
        destination: custom
    properties:
      userId:
        type: string
      data:
        type: any
  AnsweredQuestion:
    implementations:
      - path: ruby/models/test_module.rb
        line: 11
        function: send_telemetry
        destination: custom
    properties:
      userId:
        type: any
      sectionName:
        type: any
      questionnaireName:
        type: string
      registered:
        type: any
      eligible:
        type: any
      nonInteraction:
        type: number
  formSubmission:
    implementations:
      - path: javascript/main.js
        line: 220
        function: global
        destination: gtm
    properties:
      formId:
        type: string
      formLocation:
        type: string
  userRegistration:
    implementations:
      - path: javascript/main.js
        line: 227
        function: global
        destination: gtm
    properties:
      userId:
        type: string
      source:
        type: string
      plan:
        type: string
  buttonClick:
    implementations:
      - path: javascript/main.js
        line: 256
        function: gtmTestFunction
        destination: gtm
      - path: typescript/main.ts
        line: 543
        function: gtmTestFunction
        destination: gtm
    properties:
      buttonText:
        type: string
      location:
        type: string
      timestamp:
        type: string
  video_play:
    implementations:
      - path: typescript/main.ts
        line: 556
        function: global
        destination: gtm
    properties:
      videoTitle:
        type: string
      videoDuration:
        type: number
